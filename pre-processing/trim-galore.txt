#!/bin/bash
#SBATCH -c 4  # Number of Cores per Task
#SBATCH --mem=8192  # Requested Memory
#SBATCH -p cpu-long  # Partition
#SBATCH -t 24:00:00  # Job time limit
#SBATCH --mail-type=ALL
#SBATCH -o slurm-%j.out  # %j = job ID

#-----------------modules-----------------#
module load miniconda/4.11.0

# have to make sure you have cutadapt AND fastqc installed before trim_galore

conda create -n cutadaptenv cutadapt
conda activate cutadaptenv

conda install trim-galore

#---------------change wd----------------#

cd /project/pi_sarah_gignouxwolfsohn_uml_edu/Raw_sequences/CE24_RNAseq_raw

#-----------------commands----------------#

for f in $(ls /project/pi_sarah_gignouxwolfsohn_uml_edu/Raw_sequences/CE24_RNAseq_raw | sed 's/[^-]*$//'); 
do 
    trim_galore --paired "$f"CV_R1_001.fastq.gz "$f"CV_R2_001.fastq.gz --output_dir /project/pi_sarah_gignouxwolfsohn_uml_edu/julia/CE_2024/Sequences/trim-galore;
done

#
echo = `date` job $JOB_NAME done